<div class="pageBoxLg ">
  <div class="row">
    <div class="col-md-2">
      <label class="pageBoxLg-label "> Business User Details</label>
    </div>
  </div>
  <form [formGroup]="businessViewForm" novalidate style="padding-top:60px">
    <div class="row">
      <div class="col-md-5 pageBoxl">
        <div *ngFor="let data of businessUserModel">
          <div class="form-group col-md-12">
            <div class="form-group">
              <label> <b>Details</b> </label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6" *ngIf="!data.detailsUpdate">
              <div class="form-group col-md-12">
                <div class="form-group">
                  <label> <small>First Name</small> </label>
                </div>
              </div>
              <div class="form-group col-md-12">
                <div class="form-group">
                  <label> <small>Last Name</small></label>
                </div>
              </div>
              <div class="form-group col-md-12">
                <div class="form-group">
                  <label> <small>Company Name</small></label>
                </div>
              </div>
              <div class="form-group col-md-12">
                <div class="form-group">
                  <label> <small>Country</small></label>
                </div>
              </div>
              <div class="form-group col-md-12">
                <div class="form-group">
                  <label><small>Email-ID</small></label>
                </div>
              </div>
              <div class="form-group col-md-12">
                <div class="form-group">
                  <label><small>Mobile Number</small></label>
                </div>
              </div>
            </div>
            <div class="col-md-6" *ngFor="let data of businessUserModel">
              <div *ngIf="!data.detailsUpdate">
                <div class=" form-group col-md-12">
                  <div class="form-group">
                    <b><small>: {{data.firstName}}</small></b>
                  </div>
                </div>
                <div class=" form-group col-md-12">
                  <div class="form-group">
                    <b><small>: {{data.lastName}}</small></b>
                  </div>
                </div>
                <div class=" form-group col-md-12">
                  <div class="form-group">
                    <b><small>: {{data.companyName}}</small></b>
                  </div>
                </div>
                <div class=" form-group col-md-12">
                  <div class="form-group">
                    <b><small>: {{data.country}}</small></b>
                  </div>
                </div>
                <div class=" form-group col-md-12">
                  <div class="form-group">
                    <b> <small>: {{data.emailId}}</small></b>
                  </div>
                </div>
                <div class=" form-group col-md-12">
                  <div class="form-group">
                    <b> <small>: {{data.mobileNumber}}</small></b>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-1 "></div>
      <div class="col-md-5 ">
        <div class="row pageBoxl" *ngFor="let data of businessUserModel">
          <div class="form-group col-md-12">
            <div class="form-group">
              <label> <b>Package Details</b> </label>
            </div>
          </div>
          <div class="col-md-6" *ngIf="!data.socialUpdate">
            <div class="form-group col-md-12">
              <label> <small>Duration</small> </label>
            </div>
            <div class="form-group col-md-12">
              <label> <small>Amount</small> </label>
            </div>
          </div>
          <div class="col-md-6" *ngFor="let data of packageValue">
            <div *ngIf="data.socialUpdate">
              <div class=" form-group col-md-12">Update
                <button mat-icon-button mat-sm-button color="primary" matTooltip="Update  Social Media Link"
                  (click)="updateSocialDetails(id.value, packageDetails.value)">
                  <mat-icon> save </mat-icon>
                </button>
                <button mat-icon-button mat-sm-button color="primary" matTooltip="Cancel"
                  (click)="cancelSocialDetails(data)">
                  <mat-icon> clear </mat-icon>
                </button>
              </div>
            </div>
            <div *ngIf="!data.socialUpdate">
              <div class="form-group col-md-12">
                <b><small>: {{data.duration}}</small></b>
              </div>
              <div class="form-group col-md-12">
                <b><small>: {{data.amount}}</small></b>
              </div>
            </div>
          </div>
        </div>
        <div class="row pageBoxl">
          <div class="form-group col-md-12">
            <div class="form-group">
              <label> <b>Visitors Report</b> </label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="col-md-12">
              <div class="form-group">
                <label>Today Visitors</label>
              </div>
            </div>
            <div class="col-md-12">
              <div class="form-group">
                <label>Total Visitors</label>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="col-md-12">
              <div class="form-group">
                : {{currentCount}}
              </div>
            </div>
            <div class="col-md-12">
              <div class="form-group">
                : {{totalCount}}
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>
    <div class="row pageBoxl">
      <div class="col-md-5" *ngFor="let data of businessUserModel">
        <div *ngIf="!data.logoUpdate">
          <label>Logo </label><button mat-icon-button mat-sm-button color="primary" matTooltip="Edit  Logo"
            (click)="editLogo(data)">
            <mat-icon> edit </mat-icon>
          </button>
          <div>
            <img [src]="data.logImageName" style="width: 150px; height: 150px;" />
          </div>
          <br>
          <label style="align-self: center">Company Image</label>
          <div *ngFor="let url of data.companyImageName" class="column">
            <img [src]="url" style="width: 150px; height: 100px;" />
          </div>
        </div>
        <div *ngIf="data.logoUpdate">
          <input matInput hidden [value]="data._id" formControlName="id" #id>
          <label>Logo </label>
          <div>
            <img *ngFor="let url of urls" [src]="url" style="width: 280px; height: 245px;" />
          </div>
          <div>
            <input type="file" name="file" class="btn btnPink btn-block" id="file"
              (change)="handleFileInput($event.target.files)">
          </div>
          <div>
            <button mat-icon-button mat-sm-button color="primary" matTooltip="Update  Logo "
              (click)="updateLogo(id.value)">
              <mat-icon> save </mat-icon>
            </button>
            <button mat-icon-button mat-sm-button color="primary" matTooltip="Cancel Logo" (click)="cancelLogo(data)">
              <mat-icon> clear </mat-icon>
            </button>
          </div>
        </div>
      </div>
      <div class="col-md-5">
        <div class="row" *ngFor="let data of businessUserModel">
          <div class="form-group col-md-12">
            <div class="form-group">
              <label> <b>Company Details</b> </label>
            </div>
          </div>
          <div class="col-md-6 " *ngIf="!data.detailsUpdate">
            <div class="form-group col-md-12">
              <div class="form-group">
                <label> <small>Listing Company Name</small> </label>
              </div>
            </div>
            <div class="form-group col-md-12">
              <div class="form-group">
                <label> <small>Listing Country</small></label>
              </div>
            </div>
            <div class="form-group col-md-12">
              <div class="form-group">
                <label> <small>Listing Email-ID</small></label>
              </div>
            </div>
            <div class="form-group col-md-12">
              <div class="form-group">
                <label> <small>Listing Mobile Number</small></label>
              </div>
            </div>
            <div class="form-group col-md-12">
              <div class="form-group">
                <label><small>WebLink</small></label>
              </div>
            </div>
            <div class="form-group col-md-12">
              <div class="form-group">
                <label><small>Category</small></label>
              </div>
            </div>
          </div>
          <div class="col-md-6" *ngFor="let data of businessUserModel">
            <div *ngIf="!data.detailsUpdate">
              <div class=" form-group col-md-12">
                <b><small>: {{data.listingCompanyName}}</small></b>
              </div>
              <div class=" form-group col-md-12">
                <b><small>: {{data.listingCountry}}</small></b>
              </div>
              <div class=" form-group col-md-12">
                <b><small>: {{data.listingEmailId}}</small></b>
              </div>
              <div class=" form-group col-md-12">
                <b><small>: {{data.listingMobileNumber}}</small></b>
              </div>
              <div class=" form-group col-md-12">
                <b> <small>: {{data.webLink}}</small></b>
              </div>
              <div class=" form-group col-md-12">
                <b> <small>: {{data.category}}</small></b>
              </div>
            </div>
            <div *ngIf="data.detailsUpdate">
              <div class=" form-group col-md-12">Update
                <button mat-icon-button mat-sm-button color="primary" matTooltip="Update  Details"
                  (click)="updateDetails(id.value, address.value, contactNo.value, alternativeContactNo.value, mailId.value, map.value )">
                  <mat-icon> save </mat-icon>
                </button>
                <button mat-icon-button mat-sm-button color="primary" matTooltip="Cancel" (click)="cancelDetails(data)">
                  <mat-icon> clear </mat-icon>
                </button>
              </div>
              <div class=" form-group col-md-12">
                <mat-form-field class="example-full-width">
                  <input matInput hidden [value]="data._id" formControlName="id" #id>
                  <input matInput placeholder="First Name" [value]="data.firstName" formControlName="firstName"
                    #firstName>
                </mat-form-field>
              </div>
              <div class=" form-group col-md-12">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Last Name" [value]="data.lastName" formControlName="lastName" #lastName>
                </mat-form-field>
              </div>
              <div class=" form-group col-md-12">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Company Name" [value]="data.companyName" formControlName="companyName"
                    #companyName>
                </mat-form-field>
              </div>
              <div class=" form-group col-md-12">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Country" [value]="data.country" formControlName="country" #country>
                </mat-form-field>
              </div>
              <div class=" form-group col-md-12">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Email-ID" [value]="data.emailId" formControlName="emailId" #emailId>
                </mat-form-field>
              </div>
              <div class=" form-group col-md-12">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Mobile Number" [value]="data.mobileNumber" formControlName="mobileNumber"
                    #mobileNumber>
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row pageBoxl">
      <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-secondary active">
          <input type="radio" name="options" (click)="getSelectedReport()" id="option1" autocomplete="off"> Public
          Viewers
        </label>
        <label class="btn btn-secondary">
          <input type="radio" name="options" (click)="geSubscriberSelectedReport()" id="option2" autocomplete="off">
          Business Viewers
        </label>
      </div>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Date</th>
            <th scope="col">Name</th>
            <th scope="col">Mobile Number</th>
            <th scope="col">Email-ID</th>

          </tr>
        </thead>
        <tbody *ngFor="let data of reportModel">
          <tr *ngFor="let val of data.joinedtable">
            <td scope="row">{{data.date}}</td>
            <td>{{val.firstName}}</td>
            <td>{{val.mobileNumber}}</td>
            <td>{{val.emailId}}</td>
          </tr>
        </tbody>
      </table>
    </div>

  </form>
</div>